.card--title {
	@include card--title();
}

a.card--title {
	@include card--title-link();
	@include link-arrow();
}

.card--media {
	@include card--media();
}

.card--body {
	//position: relative;
	z-index: 10;
	padding: rem(15px 0 30px 0);
	border-radius: $border-radius-default;
	background: $color-grey-lighter;
}

.card--description {
	& {
		padding: rem(0 15px);
		font-size: rem(17px);
	}

	p {
		&:first-child {
			margin-top: 0;
		}
	}
}

.card--readmore {
	& {
		padding: rem(0 15px);
		font-weight: $font-weight-normal;
		color: $theme-color-primary;
		background-image: none;
		font-size: rem(15px);
	}

	svg {
		width: 14px;
		height: 11px;
		margin: rem(10px 0 0 12px);
		flex-shrink: 0;
		fill: $theme-color-primary;
		transition: transform $transition-duration;
	}
}

.card--badge-container {
	& {
		position: absolute;
		top: 10px; left: 10px;
		margin: rem(0 -5px);
		padding: 0;
		list-style: none;
	}

	.badge {
		margin: rem(0 5px);
		padding: rem(2px 10px);
	}
}

.card {
	& {
		display: flex;
		flex-direction: column;
	}

	.card--media + .card--title {
		margin-top: rem(5px);
	}

	.card--media + .card--body {
		margin-top: rem(-5px);
	}

	.card--body {
		flex: 1;
	}

	&[data-uri-target] {
		& {
			position: relative;
		}

		.card--title:after {
			content: '';
			position: absolute;
			top: 0; left: 0;
			width: 100%;
			height: 100%;
		}

		.card--media {
			@include card--media-link();
		}

		&:hover, .focusable &:focus-within {
			& {
				cursor: pointer;
			}

			.card--title {
				svg {
					transform: translate(5px, 0);
				}
			}

			.card--media {
				img {
					transform: scale(1.1);
				}
			}
		}
	}

	.focusable &[data-uri-target]:focus-within {
		& {
			@extend %accessibility-focus-overflow;
		}

		&:before, &:after {
			top: -2px;
			bottom: -2px;
		}

		a, a:focus, .focusable & a {
			outline: 0;
		}
	}
}

.card--layout-1 {
	.card--body {
		background: transparent;
	}

	.card--title,
	.card--description {
		padding-left: rem(10px);
		padding-right: rem(10px);
	}
}

.card--container {
	& {
		margin-top: rem(-45px);
		@include make-row();
		padding: 0;
		list-style: none;
	}

	.card {
		width: 100%;
		margin-top: rem(45px);
		margin-left: $grid-gutter-width / 2;
		margin-right: $grid-gutter-width / 2;
	}
}

.readmore-container {
	& {
		margin-top: rem(-45px);
	}

	.card--container {
		margin-top: 0;
	}

	.card:nth-child(1n+3) {
		display: none;
	}

	&.readmore-container-open,
	&.readmore-container-opened {
		.card:nth-child(1n+1) {
			display: flex;
		}
	}
}

.ce-header--layout-2, .ce-header--layout-3 {
	& + .card--container, & + .readmore-container {
		margin-top: rem(-20px);
	}
}

@include media-breakpoint-up(sm) {
	.card--container {
		.card {
			width: calc(#{percentage(1 / 2)} - 30px);
		}
	}
}

@include media-breakpoint-up(md) {
	.card--container {
		.card {
			width: calc(#{percentage(1 / 3)} - 30px);
		}
	}
}



.readmore-container {
	.card--container {
		margin-top: 0;
	}

	.card:nth-child(1n+3) {
		display: none;
	}

	&.readmore-container-open,
	&.readmore-container-opened {
		.card:nth-child(1n+1) {
			display: flex;
		}
	}
}

@include media-breakpoint-up(md) {
	.readmore-container {
		.card:nth-child(2), .card:nth-child(3) {
			display: flex;
		}
	}
}
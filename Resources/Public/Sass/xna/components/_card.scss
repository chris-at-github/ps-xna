.card--title {
	@include card--title();
}

a.card--title {
	@include card--title-link();
}

.card--media {
	@include card--media();
}

.card--badge-container {
	& {
		position: absolute;
		top: 10px; left: 10px;
		margin: rem(0 -5px);
		padding: 0;
		list-style: none;
	}

	.badge {
		margin: rem(0 5px);
		padding: rem(2px 10px);
	}
}

.card {
	.card--media + .card--title {
		margin-top: rem(5px);
	}

	&[data-uri-target] {
		& {
			position: relative;
		}

		.card--title:after {
			content: '';
			position: absolute;
			top: 0; left: 0;
			width: 100%;
			height: 100%;
		}

		.card--media {
			@include card--media-link();
		}

		&:hover, .focusable &:focus-within {
			& {
				cursor: pointer;
			}

			.card--title {
				svg {
					transform: translate(5px, 0);
				}
			}

			.card--media {
				img {
					transform: scale(1.1);
				}
			}
		}
	}

	.focusable &[data-uri-target]:focus-within {
		& {
			@extend %accessibility-focus-overflow;
		}

		&:before, &:after {
			top: -15px;
			bottom: -15px;
		}

		a, a:focus, .focusable & a {
			outline: 0;
		}
	}
}

.card--container {
	& {
		margin-top: rem(-45px);
		@include make-row();
		padding: 0;
		list-style: none;
	}

	.card {
		width: 100%;
		margin-top: rem(45px);
		margin-left: $grid-gutter-width / 2;
		margin-right: $grid-gutter-width / 2;
	}
}

.readmore-container {
	.card--container {
		margin-top: 0;
	}

	.card:nth-child(1n+3) {
		display: none;
	}

	&.readmore-container-open,
	&.readmore-container-opened {
		.card:nth-child(1n+1) {
			display: block;
		}
	}
}

.ce-header--layout-2, .ce-header--layout-3 {
	& + .card--container, & + .readmore-container {
		margin-top: rem(-20px);
	}
}

@include media-breakpoint-up(sm) {
	.card--container {
		.card {
			width: calc(#{percentage(1 / 2)} - 30px);
		}
	}
}

@include media-breakpoint-up(md) {
	.card--container {
		.card {
			width: calc(#{percentage(1 / 3)} - 30px);
		}
	}
}



.readmore-container {
	.card--container {
		margin-top: 0;
	}

	.card:nth-child(1n+3) {
		display: none;
	}

	&.readmore-container-open,
	&.readmore-container-opened {
		.card:nth-child(1n+1) {
			display: block;
		}
	}
}

@include media-breakpoint-up(md) {
	.readmore-container {
		.card:nth-child(2), .card:nth-child(3) {
			display: block;
		}
	}
}